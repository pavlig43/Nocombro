# Правило: Используй агентов для сложных задач

## Когда использовать агентов

**ВСЕГДА** используй Task tool с соответствующим subagent_type для сложных задач. НЕ пытайся делать всё сам — делегируй экспертам.

---

## Доступные агенты

| Агент | Когда вызывать | Специализация |
|-------|----------------|---------------|
| **kotlin-specialist** | Kotlin/KMP код, корутины, Compose | Рефакторинг, лучшие практики Kotlin |
| **code-reviewer** | После написания кода | Проверка качества, безопасности, style |
| **debugger** | Ошибки, баги, краши | Диагностика, поиск причин |
| **java-architect** | Java код, Spring, Enterprise | Архитектура Java приложений |
| **mobile-developer** | Android/iOS, React Native, Flutter | Мобильная разработка |
| **security-auditor** | Проверка безопасности | Уязвимости, OWASP, безопасность |

---

## Сценарии использования

### 1. Рефакторинг Kotlin кода
```
> Используй kotlin-specialist для рефакторинга этого модуля
> Пусть kotlin-specialist проверит этот код на соответствие Kotlin best practices
```

**Вызов:**
```kotlin
Task(
    subagent_type = "kotlin-specialist",
    prompt = "Отрефактори этот код следуя Kotlin idioms...",
    description = "Refactor Kotlin code"
)
```

### 2. Ревью кода
```
> Пусть code-reviewer проверит мой коммит
> Используй code-reviewer для проверки этого файла
```

**Вызов:**
```kotlin
Task(
    subagent_type = "code-reviewer",
    prompt = "Проверь этот код на качество, безопасность, соответствие convention...",
    description = "Review code"
)
```

### 3. Отладка ошибки
```
> Используй debugger для поиска причины этой ошибки
> Пусть debugger найдёт почему падает приложение
```

**Вызов:**
```kotlin
Task(
    subagent_type = "debugger",
    prompt = "Найди причину ошибки: stacktrace такой-то...",
    description = "Debug error"
)
```

### 4. Безопасность
```
> Пусть security-auditor проверит этот код на уязвимости
> Используй security-auditor для review изменений в авторизации
```

**Вызов:**
```kotlin
Task(
    subagent_type = "security-auditor",
    prompt = "Проверь этот код на security vulnerabilities...",
    description = "Security audit"
)
```

---

## ВАЖНО

- **НЕ делай сложную работу сам** — делегируй агентам
- **Используй агентов параллельно** — можно запустить несколько сразу
- **Давай чёткие prompt'ы** — агент должен понять что делать
- **Проверяй результаты** — агент может ошибаться

---

## Примеры запросов пользователя

**Пользователь:** "Отрефактори этот код"
**Ты:** Вызываешь `kotlin-specialist`

**Пользователь:** "Проверь мой код"
**Ты:** Вызываешь `code-reviewer`

**Пользователь:** "Почему не работает?"
**Ты:** Вызываешь `debugger`

**Пользователь:** "Безопасно ли это?"
**Ты:** Вызываешь `security-auditor`

---

## Расположение

Агенты находятся в `.claude/agents/` и всегда доступны для вызова через Task tool.
